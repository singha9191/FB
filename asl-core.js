window.WPD=void 0!==window.WPD?window.WPD:{},window.WPD.ajaxsearchlite=new function(){this.prevState=null,this.firstIteration=!0,this.helpers={},this.plugin={},this.addons={addons:[],add:function(t){-1==this.addons.indexOf(t)&&(t=this.addons.push(t),this.addons[t-1].init())},remove:function(t){this.addons.filter((function(e){return e.name!=t||(void 0!==e.destroy&&e.destroy(),!1)}))}}},function(t){let e=window.WPD.ajaxsearchlite.helpers;t.fn.extend(window.WPD.ajaxsearchlite.plugin,{setFilterStateInput:function(i){let s=this;void 0===i&&(i=65);let n=function(){JSON.stringify(s.originalFormData)!=JSON.stringify(e.formData(t("form",s.n("searchsettings"))))?s.n("searchsettings").find("input[name=filters_initial]").val(0):s.n("searchsettings").find("input[name=filters_initial]").val(1)};0==i?n():setTimeout((function(){n()}),i)}})}(WPD.dom),function(t){let e=window.WPD.ajaxsearchlite.helpers;t.fn.extend(window.WPD.ajaxsearchlite.plugin,{liveLoad:function(i,s,n,o){function a(o){o=e.Hooks.applyFilters("asl/live_load/raw_data",o,h);var a=new DOMParser;let r,c,d,u,p=a.parseFromString(o,"text/html"),f=t(p);h.o.statistics&&h.stat_addKeyword(h.o.id,h.n("text").val()),""!=o&&0<f.length&&0<f.find(i).length&&(o=(o=(o=o.replace(/&asl_force_reset_pagination=1/gim,"")).replace(/%26asl_force_reset_pagination%3D1/gim,"")).replace(/&#038;asl_force_reset_pagination=1/gim,""),e.isSafari()&&(o=o.replace(/srcset/gim,"nosrcset")),o=e.Hooks.applyFilters("asl/live_load/html",o,h.o.id,h.o.iid),o=e.wp_hooks_apply_filters("asl/live_load/html",o,h.o.id,h.o.iid),f=t(a.parseFromString(o,"text/html")),a=f.find(i).get(0),null!=(a=e.Hooks.applyFilters("asl/live_load/replacement_node",a,h,l.get(0),o))&&l.get(0).parentNode.replaceChild(a,l.get(0)),l=t(i).first(),n&&(document.title=p.title,history.pushState({},null,s)),t(i).first().find(".woocommerce-ordering").on("change","select.orderby",(function(){t(this).closest("form").trigger("submit")})),1==h.o.singleHighlight&&t(i).find("a").on("click",(function(){localStorage.removeItem("asl_phrase_highlight"),""!=e.unqoutePhrase(h.n("text").val())&&localStorage.setItem("asl_phrase_highlight",JSON.stringify({phrase:e.unqoutePhrase(h.n("text").val())}))})),e.Hooks.applyFilters("asl/live_load/finished",s,h,i,l.get(0)),ASL.initialize(),h.lastSuccesfulSearch=t("form",h.n("searchsettings")).serialize()+h.n("text").val().trim(),h.lastSearchData=o),h.n("s").trigger("asl_search_end",[h.o.id,h.o.iid,h.n("text").val(),o],!0,!0),null==(c=(r=h).gaEvent)||c.call(r,"search_end",{results_count:"unknown"}),null==(u=(d=h).gaPageview)||u.call(d,h.n("text").val()),h.hideLoader(),l.css("opacity",1),h.searching=!1,""!=h.n("text").val()&&h.n("proclose").css({display:"block"})}if("body"==i||"html"==i)return console.log("Ajax Search Pro: Do not use html or body as the live loader selector."),!1;""==ASL.pageHTML&&void 0===ASL._ajax_page_html&&(ASL._ajax_page_html=!0,t.fn.ajax({url:location.href,method:"GET",success:function(t){ASL.pageHTML=t},dataType:"html"})),n=void 0===n||n,o=void 0!==o&&o;let r=".search-content #content #Content div[role=main] main[role=main] div.theme-content div.td-ss-main-content main.l-content #primary".split(" ");if("#main"!=i&&r.unshift("#main"),1>t(i).length&&(r.forEach((function(e){if(0<t(e).length)return i=e,!1})),1>t(i).length))return console.log("Ajax Search Lite: The live search selector does not exist on the page."),!1;i=e.Hooks.applyFilters("asl/live_load/selector",i,this);let l=t(i).first(),h=this;h.searchAbort(),l.css("opacity",.4),e.Hooks.applyFilters("asl/live_load/start",s,h,i,l.get(0)),o||1!=h.n("searchsettings").find("input[name=filters_initial]").val()||""!=h.n("text").val()?(h.searching=!0,h.post=t.fn.ajax({url:s,method:"GET",success:function(t){a(t)},dataType:"html",fail:function(t){l.css("opacity",1),t.aborted||(l.html("This request has failed. Please check your connection."),h.hideLoader(),h.searching=!1,h.n("proclose").css({display:"block"}))}})):window.WPD.intervalUntilExecute((function(){a(ASL.pageHTML)}),(function(){return""!=ASL.pageHTML}))},getCurrentLiveURL:function(){var i="asl_ls="+e.nicePhrase(this.n("text").val());let s="&",n=window.location.href;return n=-1<n.indexOf("asl_ls=")?n.slice(0,n.indexOf("asl_ls=")):n,n=-1<n.indexOf("asl_ls&")?n.slice(0,n.indexOf("asl_ls&")):n,n=-1<n.indexOf("p_asid=")?n.slice(0,n.indexOf("p_asid=")):n,n=-1<n.indexOf("asl_")?n.slice(0,n.indexOf("asl_")):n,-1===n.indexOf("?")&&(s="?"),(i=n+s+i+"&asl_active=1&asl_force_reset_pagination=1&p_asid="+this.o.id+"&p_asl_data=1&"+t("form",this.n("searchsettings")).serialize()).replace("?&","?")}})}(WPD.dom),WPD.dom.fn.extend(window.WPD.ajaxsearchlite.plugin,{showLoader:function(){this.n("proloading").css({display:"block"})},hideLoader:function(){this.n("proloading").css({display:"none"}),this.n("results").css("display","")}}),function(t){t.fn.extend(window.WPD.ajaxsearchlite.plugin,{loadASLFonts:function(){!1!==ASL.font_url&&(new FontFace("aslsicons2","url("+ASL.font_url+")",{style:"normal",weight:"normal","font-display":"swap"}).load().then((function(t){document.fonts.add(t)})).catch((function(t){})),ASL.font_url=!1)},updateHref:function(){if(this.o.trigger.update_href&&!this.usingLiveLoader){window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));let t=this.getStateURL()+(this.resultsOpened?"&asl_s=":"&asl_ls=")+this.n("text").val();history.replaceState("","",t.replace(location.origin,""))}},fixClonedSelf:function(){let t=this.o.iid,e=this.o.rid;for(;!(ASL.instances.set(this)||(++this.o.iid,50<this.o.iid)););t!=this.o.iid&&(this.o.rid=this.o.id+"_"+this.o.iid,this.n("search").get(0).id="ajaxsearchlite"+this.o.rid,this.n("search").removeClass("asl_m_"+e).addClass("asl_m_"+this.o.rid).data("instance",this.o.iid),this.n("searchsettings").get(0).id=this.n("searchsettings").get(0).id.replace("settings"+e,"settings"+this.o.rid),this.n("searchsettings").hasClass("asl_s_"+e)?this.n("searchsettings").removeClass("asl_s_"+e).addClass("asl_s_"+this.o.rid).data("instance",this.o.iid):this.n("searchsettings").removeClass("asl_sb_"+e).addClass("asl_sb_"+this.o.rid).data("instance",this.o.iid),this.n("resultsDiv").get(0).id=this.n("resultsDiv").get(0).id.replace("prores"+e,"prores"+this.o.rid),this.n("resultsDiv").removeClass("asl_r_"+e).addClass("asl_r_"+this.o.rid).data("instance",this.o.iid),this.n("container").find(".asl_init_data").data("instance",this.o.iid),this.n("container").find(".asl_init_data").get(0).id=this.n("container").find(".asl_init_data").get(0).id.replace("asl_init_id_"+e,"asl_init_id_"+this.o.rid),this.n("prosettings").data("opened",0))},destroy:function(){let e,i,s,n,o,a,r,l,h=this;Object.keys(h.nodes).forEach((function(t){let e,i;null==(i=(e=h.nodes[t]).off)||i.call(e)})),null==(i=(e=h.n("searchsettings")).remove)||i.call(e),null==(n=(s=h.n("resultsDiv")).remove)||n.call(s),null==(a=(o=h.n("search")).remove)||a.call(o),null==(l=(r=h.n("container")).remove)||l.call(r),h.documentEventHandlers.forEach((function(e){t(e.node).off(e.event,e.handler)}))}})}(WPD.dom),function(t){let e=window.WPD.ajaxsearchlite.helpers;t.fn.extend(window.WPD.ajaxsearchlite.plugin,{isRedirectToFirstResult:function(){return(0<t(".asl_res_url",this.n("resultsDiv")).length||0<t(".asl_es_"+this.o.id+" a").length||this.o.resPage.useAjax&&0<t(this.o.resPage.selector+"a").length)&&(1==this.o.redirectOnClick&&"click"==this.ktype&&"first_result"==this.o.trigger.click||1==this.o.redirectOnEnter&&("input"==this.ktype||"keyup"==this.ktype)&&13==this.keycode&&"first_result"==this.o.trigger.return)},doRedirectToFirstResult:function(){let i,s;return i="click"==this.ktype?this.o.trigger.click_location:this.o.trigger.return_location,0<t(".asl_res_url",this.n("resultsDiv")).length?s=t(t(".asl_res_url",this.n("resultsDiv")).get(0)).attr("href"):0<t(".asl_es_"+this.o.id+" a").length?s=t(t(".asl_es_"+this.o.id+" a").get(0)).attr("href"):this.o.resPage.useAjax&&0<t(this.o.resPage.selector+"a").length&&(s=t(t(this.o.resPage.selector+"a").get(0)).attr("href")),""!=s&&("same"==i?location.href=s:e.openInNewTab(s),this.hideLoader(),this.hideResults()),!1},doRedirectToResults:function(i){let s;if(s="click"==i?this.o.trigger.click_location:this.o.trigger.return_location,i=this.getRedirectURL(i),this.o.overridewpdefault){if(1==this.o.resPage.useAjax)return this.hideResults(),this.liveLoad(this.o.resPage.selector,i),this.showLoader(),0==this.o.blocking&&this.hideSettings(),!1;"post"==this.o.override_method?e.submitToUrl(i,"post",{asl_active:1,p_asl_data:t("form",this.n("searchsettings")).serialize()},s):"same"==s?location.href=i:e.openInNewTab(i)}else e.submitToUrl(i,"post",{np_asl_data:t("form",this.n("searchsettings")).serialize()},s);this.n("proloading").css("display","none"),this.hideLoader(),this.hideResults(),this.searchAbort()},getRedirectURL:function(i){if("results_page"==(i="click"==(void 0!==i?i:"enter")?this.o.trigger.click:this.o.trigger.return)||"ajax_search"==i?i="?s="+e.nicePhrase(this.n("text").val()):"woo_results_page"==i?i="?post_type=product&s="+e.nicePhrase(this.n("text").val()):i=(i=this.o.trigger.redirect_url).replace(/{phrase}/g,e.nicePhrase(this.n("text").val())),1<this.o.homeurl.indexOf("?")&&0===i.indexOf("?")&&(i=i.replace("?","&")),this.o.overridewpdefault&&"post"!=this.o.override_method){let e="&";-1===this.o.homeurl.indexOf("?")&&-1===i.indexOf("?")&&(e="?"),i=i+e+"asl_active=1&p_asl_data=1&"+t("form",this.n("searchsettings")).serialize(),i=this.o.homeurl+i}else i=this.o.homeurl+i;return i=(i=(i=i.replace("https://","https:///")).replace("http://","http:///")).replace(/\/\//g,"/"),i=e.Hooks.applyFilters("asl/redirect/url",i,this.o.id,this.o.iid),e.wp_hooks_apply_filters("asl/redirect/url",i,this.o.id,this.o.iid)}})}(WPD.dom),function(t){let e=window.WPD.ajaxsearchlite.helpers;t.fn.extend(window.WPD.ajaxsearchlite.plugin,{showResults:function(){this.initResults(),this.createVerticalScroll(),this.showVerticalResults(),this.hideLoader(),this.n("proclose").css({display:"block"}),null!=this.n("showmore")&&(0<this.n("items").length?this.n("showmore").css({display:"block"}):this.n("showmore").css({display:"none"})),void 0!==WPD.lazy&&setTimeout((function(){WPD.lazy(".asl_lazy")}),100),this.resultsOpened=!0},hideResults:function(t){let i=this;if(t=void 0===t||t,!i.resultsOpened)return!1;i.n("resultsDiv").removeClass(i.resAnim.showClass).addClass(i.resAnim.hideClass),setTimeout((function(){i.n("resultsDiv").css(i.resAnim.hideCSS)}),i.resAnim.duration),i.n("proclose").css({display:"none"}),e.isMobile()&&t&&document.activeElement.blur(),i.resultsOpened=!1,i.n("s").trigger("asl_results_hide",[i.o.id,i.o.iid],!0,!0)},showResultsBox:function(){this.n("s").trigger("asl_results_show",[this.o.id,this.o.iid],!0,!0),this.n("resultsDiv").css({display:"block",height:"auto"}),this.n("resultsDiv").css(this.resAnim.showCSS),this.n("resultsDiv").removeClass(this.resAnim.hideClass).addClass(this.resAnim.showClass),this.fixResultsPosition(!0)},scrollToResults:function(){var e=Math.floor(.1*window.innerHeight);if(this.resultsOpened&&1==this.o.scrollToResults.enabled&&!this.n("resultsDiv").inViewPort(e)){e="hover"==this.o.resultsposition?this.n("probox").offset().top-20:this.n("resultsDiv").offset().top-20,e+=this.o.scrollToResults.offset;var i=t("#wpadminbar");0<i.length&&(e-=i.height()),window.scrollTo({top:0>e?0:e,behavior:"smooth"})}}})}(WPD.dom),WPD.dom.fn.extend(window.WPD.ajaxsearchlite.plugin,{createVerticalScroll:function(){}}),function(t){let e=window.WPD.ajaxsearchlite.helpers;t.fn.extend(window.WPD.ajaxsearchlite.plugin,{searchAbort:function(){null!=this.post&&this.post.abort()},searchWithCheck:function(t){let e=this;void 0===t&&(t=50),e.n("text").val().length<e.o.charcount||(e.searchAbort(),clearTimeout(e.timeouts.searchWithCheck),e.timeouts.searchWithCheck=setTimeout((function(){e.search()}),t))},search:function(){let i=this;if(!(i.n("text").val().length<i.o.charcount)){i.searching=!0,i.n("proloading").css({display:"block"}),i.n("proclose").css({display:"none"});var s,n={action:"ajaxsearchlite_search",aslp:i.n("text").val(),asid:i.o.id,options:t("form",i.n("searchsettings")).serialize()};if(n=e.Hooks.applyFilters("asl/search/data",n),n=e.wp_hooks_apply_filters("asl/search/data",n),JSON.stringify(n)===JSON.stringify(i.lastSearchData))return i.resultsOpened||i.showResults(),i.hideLoader(),i.isRedirectToFirstResult()&&i.doRedirectToFirstResult(),!1;null==(s=i.gaEvent)||s.call(i,"search_start"),0<t(".asl_es_"+i.o.id).length?i.liveLoad(".asl_es_"+i.o.id,i.getCurrentLiveURL(),!1):i.o.resPage.useAjax?i.liveLoad(i.o.resPage.selector,i.getRedirectURL()):i.post=t.fn.ajax({url:ASL.ajaxurl,method:"POST",data:n,success:function(s){let o,a;if(s=(s=s.replace(/^\s*[\r\n]/gm,"")).match(/___ASLSTART___(.*[\s\S]*)___ASLEND___/)[1],s=e.Hooks.applyFilters("asl/search/html",s),s=e.wp_hooks_apply_filters("asl/search/html",s),i.n("resdrg").html(""),i.n("resdrg").html(s),t(".asl_keyword",i.n("resdrg")).on("click",(function(){i.n("text").val(t(this).html()),t("input.orig",i.n("container")).val(t(this).html()).trigger("keydown"),t("form",i.n("container")).trigger("submit","ajax"),i.search()})),i.nodes.items=t(".item",i.n("resultsDiv")),null==(o=i.gaEvent)||o.call(i,"search_end",{results_count:i.n("items").length}),null==(a=i.gaPageview)||a.call(i,i.n("text").val()),i.isRedirectToFirstResult())return i.doRedirectToFirstResult(),!1;i.hideLoader(),i.showResults(),i.scrollToResults(),i.lastSuccesfulSearch=t("form",i.n("searchsettings")).serialize()+i.n("text").val().trim(),i.lastSearchData=n,i.updateHref(),0==i.n("items").length?null!=i.n("showmore")&&i.n("showmore").css("display","none"):null!=i.n("showmore")&&(i.n("showmore").css("display","block"),t("span",i.n("showmore")).off(),t("span",i.n("showmore")).on("click",(function(){var s=i.o.trigger.click;s="results_page"==s?"?s="+e.nicePhrase(i.n("text").val()):"woo_results_page"==s?"?post_type=product&s="+e.nicePhrase(i.n("text").val()):i.o.trigger.redirect_url.replace("{phrase}",e.nicePhrase(i.n("text").val())),i.o.overridewpdefault?"post"==i.o.override_method?e.submitToUrl(i.o.homeurl+s,"post",{asl_active:1,p_asl_data:t("form",i.n("searchsettings")).serialize()}):location.href=i.o.homeurl+s+"&asl_active=1&p_asid="+i.o.id+"&p_asl_data=1&"+t("form",i.n("searchsettings")).serialize():e.submitToUrl(i.o.homeurl+s,"post",{np_asl_data:t("form",i.n("searchsettings")).serialize()})})))},fail:function(e){e.aborted||(i.n("resdrg").html(""),i.n("resdrg").html('<div class="asl_nores">The request failed. Please check your connection! Status: '+e.status+"</div>"),i.nodes.items=t(".item",i.n("resultsDiv")),i.hideLoader(),i.showResults(),i.scrollToResults())}})}}})}(WPD.dom),function(t){t.fn.extend(window.WPD.ajaxsearchlite.plugin,{searchFor:function(t){void 0!==t&&this.n("text").val(t),this.n("textAutocomplete").val(""),this.search(!1,!1,!1,!0)},toggleSettings:function(t){void 0!==t?"show"==t?this.showSettings():this.hideSettings():1==this.n("prosettings").data("opened")?this.hideSettings():this.showSettings()},closeResults:function(t){void 0!==t&&t&&(this.n("text").val(""),this.n("textAutocomplete").val("")),this.hideResults(),this.n("proloading").css("display","none"),this.hideLoader(),this.searchAbort()},getStateURL:function(){let e,i=location.href;return i=i.split("p_asid"),i=i[0],i=i.replace("&asl_active=1",""),i=i.replace("?asl_active=1",""),i="?"==i.slice(-1)?i.slice(0,-1):i,i="&"==i.slice(-1)?i.slice(0,-1):i,e=1<i.indexOf("?")?"&":"?",i+e+"p_asid="+this.o.id+"&p_asl_data=1&"+t("form",this.n("searchsettings")).serialize()},resetSearch:function(){this.resetSearchFilters()},filtersInitial:function(){return 1==this.n("searchsettings").find("input[name=filters_initial]").val()},filtersChanged:function(){return 1==this.n("searchsettings").find("input[name=filters_changed]").val()}})}(WPD.dom),function(t){t.fn.extend(window.WPD.ajaxsearchlite.helpers,{Hooks:window.WPD.Hooks,deviceType:function(){let t=window.innerWidth;return 640>=t?"phone":1024>=t?"tablet":"desktop"},detectIOS:function(){return void 0!==window.navigator&&void 0!==window.navigator.userAgent&&null!=window.navigator.userAgent.match(/(iPod|iPhone|iPad)/)},detectIE:function(){var t=window.navigator.userAgent;let e=t.indexOf("MSIE ");return t=t.indexOf("Trident/"),0<e||0<t},isMobile:function(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}},isTouchDevice:function(){return"ontouchstart"in window},isSafari:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},whichjQuery:function(t){let e=!1;return void 0!==window.$&&(void 0===t||void 0!==window.$.fn[t])&&(e=window.$),!1===e&&void 0!==window.jQuery&&(e=window.jQuery,(void 0===t||void 0!==window.jQuery.fn[t])&&(e=window.jQuery)),e},formData:function(e,i){let s=this,n=e.find("input,textarea,select,button").get();return 1===arguments.length?(i={},n.forEach((function(e){e.name&&!e.disabled&&(e.checked||/select|textarea/i.test(e.nodeName)||/text/i.test(e.type)||t(e).hasClass("hasDatepicker")||t(e).hasClass("asl_slider_hidden"))&&(null==i[e.name]&&(i[e.name]=[]),t(e).hasClass("hasDatepicker")?i[e.name].push(t(e).parent().find(".asl_datepicker_hidden").val()):i[e.name].push(t(e).val()))})),JSON.stringify(i)):("object"!=typeof i&&(i=JSON.parse(i)),n.forEach((function(e){if(e.name)if(i[e.name]){let n=i[e.name],o=t(e);if("[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]),"checkbox"==e.type||"radio"==e.type){let t=o.val(),e=!1;for(let i=0;i<n.length;i++)if(n[i]==t){e=!0;break}o.prop("checked",e)}else o.val(n[0]),(t(e).hasClass("asl_gochosen")||t(e).hasClass("asl_goselect2"))&&WPD.intervalUntilExecute((function(t){t(e).trigger("change.asl_select2")}),(function(){return s.whichjQuery("asl_select2")}),50,3),t(e).hasClass("hasDatepicker")&&WPD.intervalUntilExecute((function(t){let e=n[0],i=t(o.get(0)).datepicker("option","dateFormat");t(o.get(0)).datepicker("option","dateFormat","yy-mm-dd"),t(o.get(0)).datepicker("setDate",e),t(o.get(0)).datepicker("option","dateFormat",i),t(o.get(0)).trigger("selectnochange")}),(function(){return s.whichjQuery("datepicker")}),50,3)}else"checkbox"!=e.type&&"radio"!=e.type||t(e).prop("checked",!1)})),e)},submitToUrl:function(e,i,s,n){let o;o=t('<form style="display: none;" />'),o.attr("action",e),o.attr("method",i),t("body").append(o),null!=s&&Object.keys(s).forEach((function(e){let i=s[e],n=t('<input type="hidden" />');n.attr("name",e),n.attr("value",i),o.append(n)})),void 0!==n&&"new"==n&&o.attr("target","_blank"),o.get(0).submit()},openInNewTab:function(t){Object.assign(document.createElement("a"),{target:"_blank",href:t}).click()},isScrolledToBottom:function(e,i){return e.scrollHeight-e.scrollTop-t(e).outerHeight()<i},getWidthFromCSSValue:function(t,e){return 100>(t=-1<(t+="").indexOf("px")?parseInt(t,10):-1<t.indexOf("%")&&void 0!==e&&null!=e?Math.floor(parseInt(t,10)/100*e):parseInt(t,10))?100:t},nicePhrase:function(t){return encodeURIComponent(t).replace(/%20/g,"+")},unqoutePhrase:function(t){return t.replace(/["']/g,"")},decodeHTMLEntities:function(t){let e=document.createElement("div");return t&&"string"==typeof t&&(t=(t=t.replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,"")).replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gim,""),e.innerHTML=t,t=e.textContent,e.textContent=""),t},isScrolledToRight:function(e){return e.scrollWidth-t(e).outerWidth()===e.scrollLeft},isScrolledToLeft:function(t){return 0===t.scrollLeft},wp_hooks_apply_filters:function(){return"undefined"!=typeof wp&&void 0!==wp.hooks&&void 0!==wp.hooks.applyFilters?wp.hooks.applyFilters.apply(null,arguments):void 0!==arguments[1]&&arguments[1]}})}(WPD.dom),function(t){let e=window.WPD.ajaxsearchlite.helpers;t.fn.extend(window.WPD.ajaxsearchlite.plugin,{detectAndFixFixedPositioning:function(){let t=!1,e=this.n("search").get(0);for(;e;)if(e=e.parentElement,null!=e&&"fixed"==window.getComputedStyle(e).position){t=!0;break}t||"fixed"==this.n("search").css("position")?("absolute"==this.n("resultsDiv").css("position")&&this.n("resultsDiv").css({position:"fixed","z-index":2147483647}),this.o.blocking||this.n("searchsettings").css({position:"fixed","z-index":2147483647})):("fixed"==this.n("resultsDiv").css("position")&&this.n("resultsDiv").css("position","absolute"),this.o.blocking||this.n("searchsettings").css("position","absolute"))},fixResultsPosition:function(i){i=void 0!==i&&i;var s=t("body");let n=0;var o=this.n("resultsDiv").css("position");if(0==t._fn.bodyTransformY()&&"static"==s.css("position")||(n=s.offset().top),0!=t._fn.bodyTransformY()&&"fixed"==o&&(o="absolute",this.n("resultsDiv").css("position","absolute")),"fixed"==o&&(n=0),!("fixed"!=o&&"absolute"!=o||1!=i&&"visible"!=this.n("resultsDiv").css("visibility")||(i=this.n("search").offset(),o=0,0==t._fn.bodyTransformX()&&"static"==s.css("position")||(o=s.offset().left),void 0===i))){let t=0;"auto"==(s="phone"==e.deviceType()?this.o.results.width_phone:"tablet"==e.deviceType()?this.o.results.width_tablet:this.o.results.width)&&(s=240>this.n("search").outerWidth()?240:this.n("search").outerWidth()),this.n("resultsDiv").css("width",isNaN(s)?s:s+"px"),"right"==this.o.resultsSnapTo?t=this.n("resultsDiv").outerWidth()-this.n("search").outerWidth():"center"==this.o.resultsSnapTo&&(t=Math.floor((this.n("resultsDiv").outerWidth()-parseInt(this.n("search").outerWidth()))/2)),this.n("resultsDiv").css({top:i.top+this.n("search").outerHeight(!0)-n+"px",left:i.left-t-o+"px"})}},fixSettingsPosition:function(e){e=void 0!==e&&e;var i=t("body"),s=0,n=this.n("searchsettings").css("position");0==t._fn.bodyTransformY()&&"static"==i.css("position")||(s=i.offset().top),0!=t._fn.bodyTransformY()&&"fixed"==n&&(n="absolute",this.n("searchsettings").css("position","absolute")),"fixed"==n&&(s=0),1!=e&&0==this.n("prosettings").data("opened")||(e=0,0==t._fn.bodyTransformX()&&"static"==i.css("position")||(e=i.offset().left),this.fixSettingsWidth(),s=(n=(i="none"!=this.n("prosettings").css("display")?this.n("prosettings"):this.n("promagnifier")).offset()).top+i.height()-2-s+"px",i=(i="left"==this.o.settingsimagepos?n.left:n.left+i.width()-this.n("searchsettings").width())-e+"px",this.n("searchsettings").css({display:"block",top:s,left:i}))},fixSettingsWidth:function(){},hideOnInvisibleBox:function(){if(1==this.o.detectVisibility&&!this.n("search").hasClass("hiddend")&&(this.n("search").is(":hidden")||!this.n("search").is(":visible"))){let t;null==(t=this.hideSettings)||t.call(this),this.hideResults()}}})}(WPD.dom),function(t){t.fn.extend(window.WPD.ajaxsearchlite.plugin,{initMagnifierEvents:function(){let e=this;e.n("promagnifier").on("click",(function(i){let s;return e.keycode=i.keyCode||i.which,e.ktype=i.type,null==(s=e.gaEvent)||s.call(e,"magnifier"),e.n("text").val().length>=e.o.charcount&&1==e.o.redirectOnClick&&"first_result"!=e.o.trigger.click?(e.doRedirectToResults("click"),clearTimeout(void 0),!1):("ajax_search"==e.o.trigger.click||"first_result"==e.o.trigger.click)&&(e.searchAbort(),clearTimeout(e.timeouts.search),e.n("proloading").css("display","none"),void(e.timeouts.search=setTimeout((function(){t("form",e.n("searchsettings")).serialize()+e.n("text").val().trim()!=e.lastSuccesfulSearch||!e.resultsOpened&&!e.usingLiveLoader?e.search():e.isRedirectToFirstResult()?e.doRedirectToFirstResult():e.n("proclose").css("display","block")}),e.o.trigger.delay)))}))}})}(WPD.dom),function(t){let e=window.WPD.ajaxsearchlite.helpers;t.fn.extend(window.WPD.ajaxsearchlite.plugin,{initInputEvents:function(){let t=this,e=!1,i=function(){if(t.n("text").off("mousedown touchstart keydown",i),!e){let i;t._initFocusInput(),t.o.trigger.type&&t._initSearchInput(),t._initEnterEvent(),t._initFormEvent(),null==(i=t.initAutocompleteEvent)||i.call(t),e=!0}};t.n("text").on("mousedown touchstart keydown",i,{passive:!0})},_initFocusInput:function(){let e=this;e.n("text").on("click",(function(i){let s;if(i.stopPropagation(),i.stopImmediatePropagation(),t(this).trigger("focus"),null==(s=e.gaEvent)||s.call(e,"focus"),t("form",e.n("searchsettings")).serialize()+e.n("text").val().trim()==e.lastSuccesfulSearch)return e.resultsOpened||e.usingLiveLoader||(e._no_animations=!0,e.showResults(),e._no_animations=!1),!1})),e.n("text").on("focus input",(function(i){e.searching||(""!=t(this).val()?e.n("proclose").css("display","block"):e.n("proclose").css({display:"none"}))}))},_initSearchInput:function(){let i=this,s=i.n("text").val();i.n("text").on("input",(function(n){if(i.keycode=n.keyCode||n.which,i.ktype=n.type,e.detectIE()){if(s==i.n("text").val())return!1;s=i.n("text").val()}if(i.updateHref(),i.n("text").val().length<i.o.charcount){if(i.n("proloading").css("display","none"),0==i.o.blocking){let t;null==(t=i.hideSettings)||t.call(i)}return i.hideResults(!1),i.searchAbort(),clearTimeout(i.timeouts.search),!1}i.searchAbort(),clearTimeout(i.timeouts.search),i.n("proloading").css("display","none"),i.timeouts.search=setTimeout((function(){t("form",i.n("searchsettings")).serialize()+i.n("text").val().trim()!=i.lastSuccesfulSearch||!i.resultsOpened&&!i.usingLiveLoader?i.search():i.isRedirectToFirstResult()?i.doRedirectToFirstResult():i.n("proclose").css("display","block")}),i.o.trigger.delay)}))},_initEnterEvent:function(){let e,i=this,s=!1;i.n("text").on("keyup",(function(n){if(i.keycode=n.keyCode||n.which,i.ktype=n.type,13==i.keycode){if(clearTimeout(e),e=setTimeout((function(){s=!1}),300),s)return!1;s=!0}if(n=t(this).hasClass("orig"),i.n("text").val().length>=i.o.charcount&&n&&13==i.keycode){let e;null==(e=i.gaEvent)||e.call(i,"return"),1==i.o.redirectOnEnter?"first_result"!=i.o.trigger.return?i.doRedirectToResults(i.ktype):i.search():"ajax_search"==i.o.trigger.return&&(t("form",i.n("searchsettings")).serialize()+i.n("text").val().trim()!=i.lastSuccesfulSearch||!i.resultsOpened&&!i.usingLiveLoader)&&i.search(),clearTimeout(i.timeouts.search)}}))},_initFormEvent:function(){let i=this;t(i.n("text").closest("form").get(0)).on("submit",(function(t,s){t.preventDefault(),e.isMobile()?i.o.redirectOnEnter?((t=new Event("keyup")).keyCode=t.which=13,this.n("text").get(0).dispatchEvent(t)):(i.search(),document.activeElement.blur()):void 0!==s&&"ajax"==s&&i.search()}))}})}(WPD.dom),function(t){t.fn.extend(window.WPD.ajaxsearchlite.plugin,{initNavigationEvents:function(){let e=this,i=function(i){let s=i.keyCode||i.which;if(0<t(".item",e.n("resultsDiv")).length&&"none"!=e.n("resultsDiv").css("display")&&"vertical"==e.o.resultstype){if(40==s||38==s){var n=e.n("resultsDiv").find(".item.hovered");e.n("text").trigger("blur"),0==n.length?e.n("resultsDiv").find(".item").first().addClass("hovered"):(40==s&&(0==n.next(".item").length?e.n("resultsDiv").find(".item").removeClass("hovered").first().addClass("hovered"):n.removeClass("hovered").next(".item").addClass("hovered")),38==s&&(0==n.prev(".item").length?e.n("resultsDiv").find(".item").removeClass("hovered").last().addClass("hovered"):n.removeClass("hovered").prev(".item").addClass("hovered"))),i.stopPropagation(),i.preventDefault(),e.n("resultsDiv").find(".resdrg .item.hovered").inViewPort(50,e.n("resultsDiv").get(0))||null!=(n=e.n("resultsDiv").find(".resdrg .item.hovered").get(0))&&void 0!==n.scrollIntoView&&n.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}13==s&&0<t(".item.hovered",e.n("resultsDiv")).length&&(i.stopPropagation(),i.preventDefault(),t(".item.hovered a.asl_res_url",e.n("resultsDiv")).get(0).click())}};e.documentEventHandlers.push({node:document,event:"keydown",handler:i}),t(document).on("keydown",i)}})}(WPD.dom),function(t){let e=window.WPD.ajaxsearchlite.helpers;t.fn.extend(window.WPD.ajaxsearchlite.plugin,{initOtherEvents:function(){let i=this;if(e.isMobile()&&e.detectIOS()&&i.n("text").on("touchstart",(function(){i.savedScrollTop=window.scrollY,i.savedContainerTop=i.n("search").offset().top})),i.n("proclose").on(i.clickTouchend,(function(e){e.preventDefault(),e.stopImmediatePropagation(),i.n("text").val(""),i.n("textAutocomplete").val(""),i.hideResults(),i.n("text").trigger("focus"),i.n("proloading").css("display","none"),i.hideLoader(),i.searchAbort(),0<t(".asl_es_"+i.o.id).length?(i.showLoader(),i.liveLoad(".asl_es_"+i.o.id,i.getCurrentLiveURL(),!1)):i.o.resPage.useAjax&&(i.showLoader(),i.liveLoad(i.o.resPage.selector,i.getRedirectURL())),i.n("text").get(0).focus()})),e.isMobile()){var s=function(){i.orientationChange(),setTimeout((function(){i.orientationChange()}),600)};i.documentEventHandlers.push({node:window,event:"orientationchange",handler:s}),t(window).on("orientationchange",s)}else s=function(){i.resize()},i.documentEventHandlers.push({node:window,event:"resize",handler:s}),t(window).on("resize",s,{passive:!0});s=function(){i.scrolling(!1)},i.documentEventHandlers.push({node:window,event:"scroll",handler:s}),t(window).on("scroll",s,{passive:!0}),e.isMobile()&&""!=i.o.mobile.menu_selector&&t(i.o.mobile.menu_selector).on("touchend",(function(){let e=this;setTimeout((function(){let s=t(e).find("input.orig");s=0==s.length?t(e).next().find("input.orig"):s,s=0==s.length?t(e).parent().find("input.orig"):s,s=0==s.length?i.n("text"):s,i.n("search").inViewPort()&&s.get(0).focus()}),300)})),e.detectIOS()&&e.isMobile()&&e.isTouchDevice()&&16>parseInt(i.n("text").css("font-size"))&&(i.n("text").data("fontSize",i.n("text").css("font-size")).css("font-size","16px"),i.n("textAutocomplete").css("font-size","16px"),t("body").append("<style>#ajaxsearchlite"+i.o.rid+" input.orig::-webkit-input-placeholder{font-size: 16px !important;}</style>"))},orientationChange:function(){this.detectAndFixFixedPositioning(),this.fixSettingsPosition(),this.fixResultsPosition(),"isotopic"==this.o.resultstype&&"visible"==this.n("resultsDiv").css("visibility")&&(this.calculateIsotopeRows(),this.showPagination(!0),this.removeAnimation())},resize:function(){this.detectAndFixFixedPositioning(),this.fixSettingsPosition(),this.fixResultsPosition(),"isotopic"==this.o.resultstype&&"visible"==this.n("resultsDiv").css("visibility")&&(this.calculateIsotopeRows(),this.showPagination(!0),this.removeAnimation())},scrolling:function(t){this.detectAndFixFixedPositioning(),this.hideOnInvisibleBox(),this.fixSettingsPosition(t),this.fixResultsPosition(t)},initTryThisEvents:function(){let e=this;0<e.n("trythis").find("a").length&&(e.n("trythis").find("a").on("click touchend",(function(i){let s;i.preventDefault(),i.stopImmediatePropagation(),document.activeElement.blur(),e.n("textAutocomplete").val(""),e.n("text").val(t(this).html()),null==(s=e.gaEvent)||s.call(e,"try_this"),e.searchWithCheck(80)})),e.n("trythis").css({visibility:"visible"}))}})}(WPD.dom),function(t){t.fn.extend(window.WPD.ajaxsearchlite.plugin,{initResultsEvents:function(){let e=this;e.n("resultsDiv").css({opacity:"0"});let i=function(i){let s=i.keyCode||i.which,n=i.type;0==t(i.target).closest(".asl_w").length&&(e.hideOnInvisibleBox(),"click"==n&&"touchend"==n&&3==s||0==e.resultsOpened||1!=e.o.closeOnDocClick||e.dragging||(e.hideLoader(),e.searchAbort(),e.hideResults()))};e.documentEventHandlers.push({node:document,event:e.clickTouchend,handler:i}),t(document).on(e.clickTouchend,i),e.n("resultsDiv").on("click",".results .item",(function(){let i;null==(i=e.gaEvent)||i.call(e,"result_click",{result_title:t(this).find("a.asl_res_url").text(),result_url:t(this).find("a.asl_res_url").attr("href")}),1==e.o.singleHighlight&&(localStorage.removeItem("asl_phrase_highlight"),""!=e.n("text").val().replace(/["']/g,"")&&localStorage.setItem("asl_phrase_highlight",JSON.stringify({phrase:e.n("text").val().replace(/["']/g,"")})))}))}})}(WPD.dom),function(t){t.fn.extend(window.WPD.ajaxsearchlite.plugin,{monitorTouchMove:function(){let e=this;e.dragging=!1,t("body").on("touchmove",(function(){e.dragging=!0})).on("touchstart",(function(){e.dragging=!1}))}})}(WPD.dom),WPD.dom.fn.extend(window.WPD.ajaxsearchlite.plugin,{initAutop:function(){let t=this;if("disabled"==t.o.autop.state)return!1;let e=window.location.href;if(-1<e.indexOf("asl_ls=")||-1<e.indexOf("asl_ls&"))return!1;let i=t.o.autop.count;window.WPD.intervalUntilExecute((function(){t.isAutoP=!0,"phrase"==t.o.autop.state?(t.o.is_results_page||t.n("text").val(t.o.autop.phrase),t.search(i)):"latest"==t.o.autop.state?t.search(i,1):t.search(i,2)}),(function(){return!window.ASL.css_async||void 0!==window.ASL.css_loaded}))}}),function(t){let e=window.WPD.ajaxsearchlite.helpers;t.fn.extend(window.WPD.ajaxsearchlite.plugin,{initEtc:function(){e.Hooks.addFilter("asl/init/etc",this)}})}(WPD.dom),function(t){let e=window.WPD.ajaxsearchlite,i=window.WPD.ajaxsearchlite.helpers;t.fn.extend(window.WPD.ajaxsearchlite.plugin,{init:function(s,n){return this.autopStartedTheSearch=this.isAutoP=this.triggerPrevState=this.searching=!1,this.autopData={},this.resultsOpened=this.settingsChanged=this.resultsInitialized=this.settingsInitialized=!1,this.postAuto=this.post=null,this.scroll={},this.savedContainerTop=this.savedScrollTop=0,this.disableMobileScroll=!1,this.clickTouchend="click touchend",this.mouseupTouchend="mouseup touchend",this.noUiSliders=[],this.timeouts={compactBeforeOpen:null,compactAfterOpen:null,search:null,searchWithCheck:null},this.eh={},this.documentEventHandlers=[],this.settScroll=null,this.currentPage=1,this.sIsotope=this.isotopic=null,this.lastSuccesfulSearch="",this.lastSearchData={},this._no_animations=!1,this.results_num=this.call_num=0,this.o=t.fn.extend({},s),this.nodes={},this.nodes.search=t(n),i.isMobile()?this.animOptions=this.o.animations.mob:this.animOptions=this.o.animations.pc,this.initNodeVariables(),this.animationOpacity=0>this.animOptions.items.indexOf("In")?"opacityOne":"opacityZero",this.o.redirectOnClick="ajax_search"!=this.o.trigger.click&&"nothing"!=this.o.trigger.click,this.o.redirectOnEnter="ajax_search"!=this.o.trigger.return&&"nothing"!=this.o.trigger.return,(this.usingLiveLoader=this.o.resPage.useAjax&&0<t(this.o.resPage.selector).length||0<t(".asl_es_"+this.o.id).length)&&(this.o.trigger.type=this.o.resPage.trigger_type,this.o.trigger.facet=this.o.resPage.trigger_facet,this.o.resPage.trigger_magnifier&&(this.o.redirectOnClick=0,this.o.trigger.click="ajax_search"),this.o.resPage.trigger_return&&(this.o.redirectOnEnter=0,this.o.trigger.return="ajax_search")),this.monitorTouchMove(),this.initEvents(),this.initAutop(),this.initEtc(),e.firstIteration=!1,this.n("s").trigger("asl_init_search_bar",[this.o.id,this.o.iid],!0,!0),this},n:function(e){if(void 0===this.nodes[e])switch(e){case"s":this.nodes[e]=this.nodes.search;break;case"container":this.nodes[e]=this.nodes.search.closest(".asl_w_container");break;case"searchsettings":this.nodes[e]=t(".asl_s",this.n("container"));break;case"resultsDiv":this.nodes[e]=t(".asl_r",this.n("container"));break;case"probox":this.nodes[e]=t(".probox",this.nodes.search);break;case"proinput":this.nodes[e]=t(".proinput",this.nodes.search);break;case"text":this.nodes[e]=t(".proinput input.orig",this.nodes.search);break;case"textAutocomplete":this.nodes[e]=t(".proinput input.autocomplete",this.nodes.search);break;case"proloading":this.nodes[e]=t(".proloading",this.nodes.search);break;case"proclose":this.nodes[e]=t(".proclose",this.nodes.search);break;case"promagnifier":this.nodes[e]=t(".promagnifier",this.nodes.search);break;case"prosettings":this.nodes[e]=t(".prosettings",this.nodes.search);break;case"settingsAppend":this.nodes[e]=t("#wpdreams_asl_settings_"+this.o.id);break;case"resultsAppend":this.nodes[e]=t("#wpdreams_asl_results_"+this.o.id);break;case"trythis":this.nodes[e]=t("#asp-try-"+this.o.rid);break;case"hiddenContainer":this.nodes[e]=t(".asl_hidden_data",this.n("container"));break;case"aspItemOverlay":this.nodes[e]=t(".asl_item_overlay",this.n("hiddenContainer"));break;case"showmore":this.nodes[e]=t(".showmore",this.n("resultsDiv"));break;case"items":this.nodes[e]=0<t(".item",this.n("resultsDiv")).length?t(".item",this.n("resultsDiv")):t(".photostack-flip",this.n("resultsDiv"));break;case"results":this.nodes[e]=t(".results",this.n("resultsDiv"));break;case"resdrg":this.nodes[e]=t(".resdrg",this.n("resultsDiv"))}return this.nodes[e]},initNodeVariables:function(){this.o.id=this.nodes.search.data("id"),this.o.iid=this.nodes.search.data("instance"),this.o.rid=this.o.id+"_"+this.o.iid,this.fixClonedSelf()},initEvents:function(){let t;null==(t=this.initSettingsSwitchEvents)||t.call(this),this.initOtherEvents(),this.initMagnifierEvents(),this.initInputEvents()}})}(WPD.dom),function(t){let e=window.WPD.ajaxsearchlite.helpers;t.fn.extend(window.WPD.ajaxsearchlite.plugin,{initResults:function(){if(!this.resultsInitialized){let t;this.initResultsBox(),this.initResultsEvents(),null==(t=this.initNavigationEvents)||t.call(this)}},initResultsBox:function(){this.initResultsAnimations(),e.isMobile()&&1==this.o.mobile.force_res_hover?(this.o.resultsposition="hover",this.nodes.resultsDiv=this.n("resultsDiv").clone(),t("body").append(this.nodes.resultsDiv),this.nodes.resultsDiv.css({position:"absolute"}),this.detectAndFixFixedPositioning()):"hover"==this.o.resultsposition&&0>=this.n("resultsAppend").length?(this.nodes.resultsDiv=this.n("resultsDiv").clone(),t("body").append(this.n("resultsDiv"))):(this.o.resultsposition="block",this.n("resultsDiv").css({position:"static"}),0<this.n("resultsAppend").length&&(0<this.n("resultsAppend").find(".asl_w").length?this.nodes.resultsDiv=this.n("resultsAppend").find(".asl_w"):(this.nodes.resultsDiv=this.n("resultsDiv").clone(),this.nodes.resultsAppend.append(this.n("resultsDiv"))))),this.nodes.showmore=t(".showmore",this.n("resultsDiv")),this.nodes.items=0<t(".item",this.n("resultsDiv")).length?t(".item",this.n("resultsDiv")):t(".photostack-flip",this.n("resultsDiv")),this.nodes.results=t(".results",this.n("resultsDiv")),this.nodes.resdrg=t(".resdrg",this.n("resultsDiv")),this.n("resultsDiv").get(0).id=this.n("resultsDiv").get(0).id.replace("__original__",""),this.detectAndFixFixedPositioning(),this.resultsInitialized=!0},initResultsAnimations:function(){this.resAnim={showClass:"asl_an_fadeInDrop",showCSS:{visibility:"visible",display:"block",opacity:1,"animation-duration":"300ms"},hideClass:"asl_an_fadeOutDrop",hideCSS:{visibility:"hidden",opacity:0,display:"none"},duration:300},this.n("resultsDiv").css({"-webkit-animation-duration":"300ms","animation-duration":"300ms"})}})}(WPD.dom),window.ASL=void 0!==window.ASL?window.ASL:{},window.ASL.api=function(){return 4==arguments.length?function(t,e,i,s){return!1!==(t=ASL.instances.get(t,e))&&t[i].apply(t,[s])}.apply(this,arguments):3==arguments.length?function(t,e,i){return!isNaN(parseFloat(e))&&isFinite(e)?!1!==(t=ASL.instances.get(t,e))&&t[i].apply(t):!1!==(t=ASL.instances.get(t))&&t.forEach((function(t){t[e].apply(t,[i])}))}.apply(this,arguments):2==arguments.length?function(t,e){return"exists"==e?ASL.instances.exist(t):!1!==(t=ASL.instances.get(t))&&t.forEach((function(t){t[e].apply(t)}))}.apply(this,arguments):void(0==arguments.length&&(console.log("Usage: ASL.api(id, [optional]instance, function, [optional]args);"),console.log("For more info: https://knowledgebase.ajaxsearchlite.com/other/javascript-api")))};